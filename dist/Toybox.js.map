{"version":3,"sources":["Toybox.js"],"names":["Object","defineProperty","exports","value","_each2","require","_each3","_interopRequireDefault","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_Toy","_Toy2","obj","__esModule","default","_classCallCheck","instance","TypeError","Toybox","config","__config","__services","__loadServices","_this","get","item","__addProvider","add","serviceName","provides","arguments","undefined","has","Error","provider","_this2","providerClass","providerObject","boot"],"mappings":"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","file":"Toybox.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _each2 = require('lodash/each');\n\nvar _each3 = _interopRequireDefault(_each2);\n\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n    };\n}();\n\nvar _Toy = require('./ToyBox/Toy');\n\nvar _Toy2 = _interopRequireDefault(_Toy);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n\nvar Toybox = function () {\n    function Toybox(config) {\n        _classCallCheck(this, Toybox);\n\n        this.__config = config;\n\n        /**\n         * {{}}\n         */\n        this.__services = {};\n        this.__loadServices();\n    }\n\n    _createClass(Toybox, [{\n        key: '__loadServices',\n        value: function __loadServices() {\n            var _this = this;\n\n            (0, _each3.default)(this.__config.get('Services'), function (item) {\n                _this.__addProvider(item);\n            });\n        }\n\n        /**\n         *\n         * @param serviceName {string}\n         * @param provides {function}\n         */\n\n    }, {\n        key: 'add',\n        value: function add(serviceName) {\n            var provides = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {\n                return false;\n            };\n\n            if (!this.has(serviceName)) {\n                this.__services[serviceName] = provides;\n                return;\n            }\n\n            throw new Error('Service ' + serviceName + ' already exists');\n        }\n\n        /**\n         *\n         * @param provider {Toy}\n         * @private\n         */\n\n    }, {\n        key: '__addProvider',\n        value: function __addProvider(provider) {\n            var _this2 = this;\n\n            var providerClass = require('./ToyBox/' + provider).default;\n            var providerObject = new providerClass(this, this.__config);\n            providerObject.boot();\n            var provides = providerObject.provides();\n            (0, _each3.default)(provides, function (item, serviceName) {\n                _this2.add(serviceName, item);\n            });\n        }\n\n        /**\n         *\n         * @param serviceName\n         * @returns {*}\n         */\n\n    }, {\n        key: 'has',\n        value: function has() {\n            var serviceName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n            return typeof this.__services[serviceName] !== 'undefined';\n        }\n\n        /**\n         *\n         * @param serviceName\n         * @returns {*}\n         */\n\n    }, {\n        key: 'get',\n        value: function get() {\n            var serviceName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n            if (this.has(serviceName)) {\n                return this.__services[serviceName];\n            }\n\n            throw new Error('Service ' + serviceName + ' not defined');\n        }\n    }]);\n\n    return Toybox;\n}();\n\nexports.default = Toybox;\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map\n//# sourceMappingURL=Toybox.js.map"]}