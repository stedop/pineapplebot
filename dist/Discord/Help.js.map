{"version":3,"sources":["../../src/Discord/Help.js"],"names":["Help","name","syntax","description","message","params","routes","cmds","suffix","split","filter","cmd","contents","__dot","helpList","sendBatchedMessage","msg","batches","match","batch","author","sendMessage","catch","error"],"mappings":";;;;;;;;;;;;;;;;AACA;;;;AACA;;;;;;;;;;IAEqBA,I;;;;;;;;;;;;AACjB;;;;+BAIO;AACH,iBAAKC,IAAL,GAAY,MAAZ;AACA,iBAAKC,MAAL,GAAc,gBAAd;AACA,iBAAKC,WAAL,GAAmB,+DAAnB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;gCAKSC,O,EAASC,M,EAAS;AACvB,gBAAIC,SAAS,KAAKA,MAAlB;AACA,gBAAIC,OAAO,EAAX;AACA,gBAAK,KAAKC,MAAV,EAAmB;AACfD,uBAAO,KAAKC,MAAL,CAAYC,KAAZ,CAAmB,GAAnB,EAAyBC,MAAzB,CAAiC,UAAWC,GAAX,EAAiB;AACrD,2BAAOL,OAAQK,GAAR,CAAP;AACH,iBAFM,CAAP;AAGH,aAJD,MAIO;AACHJ,uBAAO,sBAAQD,MAAR,EAAgB,CAAE,EAAF,CAAhB,CAAP;AACH;;AAED,gBAAIM,WAAW,KAAKC,KAAL,CAAWC,QAAX,CAAqB,EAAE,YAAYP,IAAd,EAArB,CAAf;AACA,iBAAKQ,kBAAL,CAAyBH,QAAzB,EAAmCR,OAAnC;AACH;;AAGD;;;;;;;;2CAKoBQ,Q,EAAUI,G,EAAM;AAChC,gBAAIC,UAAUL,SAASM,KAAT,CAAgB,YAAhB,CAAd;;AAEA,gCAAMD,OAAN,EAAe,UAAEE,KAAF,EAAa;AACxBH,oBAAII,MAAJ,CAAWC,WAAX,CAAwBF,KAAxB,EAAgCG,KAAhC,CAAuC,UAAEC,KAAF,EAAa;AAChD,0BAAMA,KAAN;AACH,iBAFD;AAGH,aAJD;AAKH;;;;;;kBA9CgBvB,I","file":"Help.js","sourcesContent":["import { sortBy, each } from 'lodash';\nimport DiscordCommand from './../DiscordCommand';\nimport { Message } from 'discord.js';\n\nexport default class Help extends DiscordCommand {\n    /**\n     * Define command\n     * @returns { Help }\n     */\n    boot() {\n        this.name = 'Help';\n        this.syntax = 'help <command>';\n        this.description = 'give the help for a command, leave blank to list all commands';\n        return this;\n    }\n\n    /**\n     *\n     * @param message { Message }\n     * @param params {{}}\n     */\n    process( message, params ) {\n        let routes = this.routes;\n        let cmds = {};\n        if ( this.suffix ) {\n            cmds = this.suffix.split( ' ' ).filter( function ( cmd ) {\n                return routes[ cmd ];\n            } );\n        } else {\n            cmds = sortBy( routes, [ '' ] );\n        }\n\n        let contents = this.__dot.helpList( { 'commands': cmds } );\n        this.sendBatchedMessage( contents, message );\n    }\n\n\n    /**\n     *\n     * @param contents string\n     * @param msg Discord.Message\n     */\n    sendBatchedMessage( contents, msg ) {\n        let batches = contents.match( /.{1,1016}/g );\n\n        each( batches, ( batch ) => {\n            msg.author.sendMessage( batch ).catch( ( error ) => {\n                throw(error);\n            } );\n        } );\n    }\n}"]}