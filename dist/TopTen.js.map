{"version":3,"sources":["../src/Discord/TopTen.js"],"names":["TopTen","name","syntax","description","message","params","isEdit","__reddit","getSubreddit","subreddit","getHot","then","response","sendBatchedMessage","__dot","topTen","slice","suffix","channel","sendMessage","catch","error","contents","msg","batches","match","batch"],"mappings":";;;;;;;;;;;;AACA;;;;;;;;;;;;IAEqBA,M;;;;;;;;;;;;;AAEjB;;;;+BAIO;AACH,iBAAKC,IAAL,GAAY,QAAZ;AACA,iBAAKC,MAAL,GAAc,QAAd;AACA,iBAAKC,WAAL,GAAmB,mCAAnB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;gCAMSC,O,EAASC,M,EAAQC,M,EAAS;AAAA;;AAC/B,iBACKC,QADL,CAEKC,YAFL,CAEmBH,OAAOI,SAF1B,EAGKC,MAHL,GAIKC,IAJL,CAKQ,UAAEC,QAAF,EAAgB;AACZ,uBAAKC,kBAAL,CAAyB,OAAKC,KAAL,CAAWC,MAAX,CAAmB,EAAE,YAAYH,SAASI,KAAT,CAAgB,CAAhB,EAAmB,EAAnB,CAAd,EAAnB,CAAzB,EAAuFZ,OAAvF;AACH,aAPT;;AASA,gBAAKC,OAAOY,MAAZ,EAAqB;AACjBb,wBAAQc,OAAR,CAAgBC,WAAhB,CAA6B,uCAA7B,EAAuEC,KAAvE,CACI,UAAEC,KAAF,EAAa;AACT,0BAAMA,KAAN;AACH,iBAHL;AAKH;AACJ;;AAED;;;;;;;;2CAKoBC,Q,EAAUC,G,EAAM;AAChC,gBAAIC,UAAUF,SAASG,KAAT,CAAgB,YAAhB,CAAd;;AAEA,gCAAMD,OAAN,EAAe,UAAEE,KAAF,EAAa;AACxBH,oBAAIL,OAAJ,CAAYC,WAAZ,CAAyBO,KAAzB,EAAiCN,KAAjC,CAAwC,UAAEC,KAAF,EAAa;AACjD,0BAAMA,KAAN;AACH,iBAFD;AAGH,aAJD;AAKH;;;;;;kBAnDgBrB,M","file":"TopTen.js","sourcesContent":["import { each } from 'lodash';\nimport DiscordCommand from './../DiscordCommand';\n\nexport default class TopTen extends DiscordCommand {\n\n    /**\n     * Define command\n     * @returns { TopTen }\n     */\n    boot() {\n        this.name = 'TopTen';\n        this.syntax = 'topten';\n        this.description = 'lists the topten posts in uktrees';\n        return this;\n    }\n\n    /**\n     *\n     * @param message { Discord.Message }\n     * @param params {{}}\n     * @param isEdit { boolean }\n     */\n    process( message, params, isEdit ) {\n        this\n            .__reddit\n            .getSubreddit( params.subreddit )\n            .getHot()\n            .then(\n                ( response ) => {\n                    this.sendBatchedMessage( this.__dot.topTen( { 'listings': response.slice( 0, 10 ) } ), message );\n                } );\n\n        if ( params.suffix ) {\n            message.channel.sendMessage( 'note that !topten takes no arguments!' ).catch(\n                ( error ) => {\n                    throw error;\n                }\n            );\n        }\n    }\n\n    /**\n     *\n     * @param contents {string}\n     * @param msg {Discord.Message}\n     */\n    sendBatchedMessage( contents, msg ) {\n        let batches = contents.match( /.{1,1016}/g );\n\n        each( batches, ( batch ) => {\n            msg.channel.sendMessage( batch ).catch( ( error ) => {\n                throw(error);\n            } );\n        } );\n    }\n}"]}